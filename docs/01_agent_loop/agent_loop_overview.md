# Agent Loop 概览

## 设计目标

- 定义 Agent Loop 的职责边界与核心流程。
- 确保决策、执行、主动消息具备一致的治理策略。

## 核心概念

- **输入上下文**：用户消息 + 任务状态 + Facts/Memory。
- **循环阶段**：决策（Decision）→ 执行（Execution）→ 主动消息（Proactive）。
- **统一治理**：预算、权限、审计与错误模型贯穿全流程。

## 流程概述（文字描述）

1. Core API 汇总输入上下文并注入 Facts。
2. Agent Worker 执行决策阶段，产出计划与工具需求。
3. Executor 调用 Skills，获取结果与副作用。
4. 根据结果输出主动消息或任务状态更新。

## 非目标

- 不规定具体 Planner/Executor 的实现算法。
- 不讨论模型提示工程或具体提示词模板。

## 未来演进方向

- 引入多 Agent 角色协作与任务分解。
- 支持更复杂的回滚与补偿策略。
