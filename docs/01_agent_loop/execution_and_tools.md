# 执行与工具调用

## 设计目标

- 定义执行阶段的统一行为，确保工具调用一致性。
- 让工具调用具备可控预算、权限与审计。

## 核心概念

- **Executor**：执行计划步骤并管理工具调用。
- **统一工具入口**：所有工具调用都必须通过 Skills 抽象。
- **治理链路**：预算控制 → 权限校验 → 调用 → 观测审计 → 错误处理。

## 工具调用流程（文字描述）

1. Executor 接收计划步骤并解析 Skill 调用意图。
2. Core API 校验预算与权限策略。
3. Skills 运行时执行调用（内部或来自 MCP 适配器）。
4. 结果与错误按统一模型返回并记录审计。

## 设计约束

- 工具来源不可见：Executor 不关心工具是否来自 MCP。
- 所有调用必须具备统一的错误模型与重试策略记录。
- 工具结果必须可追溯到具体 Skill 与调用参数。

## 非目标

- 不定义具体的重试算法或失败阈值。
- 不定义具体执行引擎或并发模型。

## 未来演进方向

- 引入基于成本/收益的动态调度策略。
- 支持“工具模拟运行”以评估预算与风险。
